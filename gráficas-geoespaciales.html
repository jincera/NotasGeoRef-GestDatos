<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Capítulo 1 Gráficas geoespaciales | Notas para la sección de Sistemas Geo-referenciados</title>
  <meta name="description" content="Notas para el capítulo de Sistemas georreferenciados del curso Gestión de Datos." />
  <meta name="generator" content="bookdown 0.29 and GitBook 2.6.7" />

  <meta property="og:title" content="Capítulo 1 Gráficas geoespaciales | Notas para la sección de Sistemas Geo-referenciados" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="Notas para el capítulo de Sistemas georreferenciados del curso Gestión de Datos." />
  <meta name="github-repo" content="rstudio/bookdown-demo" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Capítulo 1 Gráficas geoespaciales | Notas para la sección de Sistemas Geo-referenciados" />
  
  <meta name="twitter:description" content="Notas para el capítulo de Sistemas georreferenciados del curso Gestión de Datos." />
  

<meta name="author" content="José Incera" />


<meta name="date" content="2024-09-09" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="index.html"/>
<link rel="next" href="la-biblioteca-geopandas.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Narrativas y Visualización. Notas de Curso</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Presentación</a></li>
<li class="chapter" data-level="1" data-path="gráficas-geoespaciales.html"><a href="gráficas-geoespaciales.html"><i class="fa fa-check"></i><b>1</b> Gráficas geoespaciales</a>
<ul>
<li class="chapter" data-level="1.1" data-path="gráficas-geoespaciales.html"><a href="gráficas-geoespaciales.html#sistemas-de-información-geográfica"><i class="fa fa-check"></i><b>1.1</b> Sistemas de información geográfica</a></li>
<li class="chapter" data-level="1.2" data-path="gráficas-geoespaciales.html"><a href="gráficas-geoespaciales.html#proyecciones"><i class="fa fa-check"></i><b>1.2</b> Proyecciones</a></li>
<li class="chapter" data-level="1.3" data-path="gráficas-geoespaciales.html"><a href="gráficas-geoespaciales.html#sistema-de-referencia-de-coordenadas"><i class="fa fa-check"></i><b>1.3</b> Sistema de Referencia de Coordenadas</a></li>
<li class="chapter" data-level="1.4" data-path="gráficas-geoespaciales.html"><a href="gráficas-geoespaciales.html#representación-de-datos-geoespaciales"><i class="fa fa-check"></i><b>1.4</b> Representación de datos geoespaciales</a></li>
<li class="chapter" data-level="1.5" data-path="gráficas-geoespaciales.html"><a href="gráficas-geoespaciales.html#formatos-de-almacenamiento"><i class="fa fa-check"></i><b>1.5</b> Formatos de almacenamiento</a></li>
<li class="chapter" data-level="1.6" data-path="gráficas-geoespaciales.html"><a href="gráficas-geoespaciales.html#visualización-de-datos-geoespaciales."><i class="fa fa-check"></i><b>1.6</b> Visualización de datos geoespaciales.</a>
<ul>
<li class="chapter" data-level="" data-path="gráficas-geoespaciales.html"><a href="gráficas-geoespaciales.html#mapas-de-coropletas"><i class="fa fa-check"></i>Mapas de coropletas</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="la-biblioteca-geopandas.html"><a href="la-biblioteca-geopandas.html"><i class="fa fa-check"></i><b>2</b> La biblioteca GeoPandas</a>
<ul>
<li class="chapter" data-level="2.1" data-path="la-biblioteca-geopandas.html"><a href="la-biblioteca-geopandas.html#operaciones-geoespaciales."><i class="fa fa-check"></i><b>2.1</b> Operaciones geoespaciales.</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="referencias.html"><a href="referencias.html"><i class="fa fa-check"></i>Referencias</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Publicado con bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Notas para la sección de Sistemas Geo-referenciados</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="gráficas-geoespaciales" class="section level1 hasAnchor" number="1">
<h1><span class="header-section-number">Capítulo 1</span> Gráficas geoespaciales<a href="gráficas-geoespaciales.html#gráficas-geoespaciales" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>Las gráficas geoespaciales son muy útiles para visualizar datos que están relacionados con, o tienen sentido en un contexto geográfico. Por ejemplo, en estas representaciones visuales se pueden proyectar datos como la densidad de población, el clima, criminalidad, actividad económica, etcétera, sobre las regiones en que inciden estos datos.</p>
<p>Esta proyección sobre un mapa es mucho más fácil de asimilar que la representación de datos en una tabla o en una gráfica porque el mapa suele generar una <em>relación empática con el observador</em> que facilita identificarse con los datos (“se ve” en los datos).</p>
<p>Este tipo de gráficas es muy útil y popular en una gran diversidad de campos, como planificación urbana, logística, marketing personalizado, análisis socioeconómico, entre muchos otros para mostrar los datos de manera atractiva. Los mapas pueden ofrecer un valioso contexto que facilita la interpretación de los datos, y pueden ayudar a obtener una mejor perspectiva de la información que se presenta. Además, es más sencillo descubrir patrones y relaciones geográficas que sería casi imposible detectar con otro tipo de representación visual.</p>
<p>Para crear una gráfica geoespacial, el conjunto de datos debe contar con información geográfica, como las coordenadas de longitud y latitud, el nombre de las localidades, los códigos postales o las direcciones. Las herramientas de visualización como ArcGIS, Leaflet, Tableau o Excel pueden interpretar esos datos para reflejarlos sobre un mapa.</p>
<div id="sistemas-de-información-geográfica" class="section level2 hasAnchor" number="1.1">
<h2><span class="header-section-number">1.1</span> Sistemas de información geográfica<a href="gráficas-geoespaciales.html#sistemas-de-información-geográfica" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Los sistemas de información geográfica (GIS, <em>Geographic Information Systems</em>) son herramientas que permiten convertir <em>datos espaciales</em> en información que se procesa, típicamente junto con datos no espaciales, para comprender mejor y tomar decisiones que atañen a alguna porción de la tierra.</p>
<p>En los sistemas GIS se tiene una capa base (el mapa de alguna región) a la que se van añadiendo capas de información que se vinculan a la capa base por su referencia geográfica. Por ejemplo, el mapa base puede ser el contorno de la Ciudad de México y las capas adicionales pueden desplegar información como la densidad poblacional por alcaldía, la ubicación de centros de salud o los puntos de mayor demanda de bicicletas compartidas.</p>
<p>Esa información adicional debe contar con algún mecanismo de geo-referenciación que le permita asociarla al mapa base. Si se trata de información numérica, típicamente los sistemas GIS permiten combinarla a través de operaciones aritméticas o de operaciones específicas a su contexto geo-espacial, como la identificación de clusters y la creación de geo-cercas.</p>
</div>
<div id="proyecciones" class="section level2 hasAnchor" number="1.2">
<h2><span class="header-section-number">1.2</span> Proyecciones<a href="gráficas-geoespaciales.html#proyecciones" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Dado que la forma de la Tierra es un elipsoide, transformarla en una representación bidimensional es muy complicado. Al proceso de hacer que una forma tipo esférica (o una parte de ella) se presente en una superficie plana, se le llama <strong>proyección</strong> e invariablemente algunas características de la forma original se verán alteradas. Por ejemplo, algunas distancias y áreas se verán más alargadas y otras más comprimidas.</p>
<p>Las características que pueden verse afectadas al hacer esta proyección son <em>forma, área, ángulos, distancia y dirección</em>. Al elegir una proyección se pueden respetar una o dos de estas características, pero invariablemente las otras tres o cuatro se distorsionarán.</p>
<p>Con base en lo anterior, las proyecciones comunes de la Tierra se agrupan en dos categorías:</p>
<ul>
<li><p><strong>Proyecciones de conservación de ángulos</strong>. Son aquellas que privilegian conservar las formas de las masas continentales y los ángulos locales, es decir, el ángulo formado por dos líneas que se cruzan en el mapa, será el mismo que el de líneas equivalentes cruzándose en el globo terráqueo. La proyección Mercator pertenece a esta categoría (imagen derecha de la figura <a href="gráficas-geoespaciales.html#fig:proy">1.1</a>.</p></li>
<li><p><strong>Proyecciones de conservación de área</strong>. En estas proyecciones lo que se busca preservar es la proporción de las áreas de la Tierra en el mapa. Estas proyecciones tienden a distorsionar fuertemente la forma de los objetos conforme más nos alejamos de las líneas de referencia. La proyección cilíndrica Lambert (que aparece en la imagen izquierda de la figura <a href="gráficas-geoespaciales.html#fig:proy">1.1</a>) es un ejemplo popular en esta categoría.</p></li>
</ul>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:proy"></span>
<img src="figuras/proy.JPG" alt="*Proyecciones Lambert y Mercator*" width="80%" />
<p class="caption">
Figura 1.1: <em>Proyecciones Lambert y Mercator</em>
</p>
</div>
<p>La proyección Mercator fue creada para la navegación marítima, pero no es una proyección apropiada para mapas mundiales (mapamundis) pues las áreas se van alargando conforme nos alejamos del ecuador como se muestra en la figura <a href="gráficas-geoespaciales.html#fig:merca">1.2</a> en la que las áreas oscuras representan con mayor fidelidad el área real de la superficie terrestre que las áreas claras generadas por la proyección Mercator.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:merca"></span>
<img src="figuras/merca.JPG" alt="*Proyección Mercator vs tamaño de los países. Fuente: [@Munzner2014]*" width="50%" />
<p class="caption">
Figura 1.2: <em>Proyección Mercator vs tamaño de los países. Fuente: <span class="citation">(<a href="#ref-Munzner2014">Munzner 2014</a>)</span></em>
</p>
</div>
<p>Sin embargo, la proyección Mercator se ha vuelto un estándar <em>de facto</em> pues es la proyección utilizada por herramientas muy populares, como Google Maps y OpenStreetMap. La razón es que esta es una buena proyección para regiones pequeñas pues preserva la forma, lo que resulta muy importante al representar áreas que son familiares al observador.</p>
<p>Otro atributo importante de las visualizaciones geoespaciales es su <strong>escala</strong>, que en su acepción más común se refiere a la proporción entre las distancias del mapa y las áreas representadas. Por ejemplo, una escala 1:100,000 significa que un centímetro en el mapa es equivalente a un kilómetro en el espacio que representa.</p>
<p>La otra acepción de escala se refiere al nivel de granularidad con el que se está realizando el estudio, por ejemplo, a nivel país, estado, municipio y hasta barrio. A esto se le llama <strong>escala de análisis</strong> y en función de ella, la historia que hemos de contar puede cambiar drásticamente.</p>
</div>
<div id="sistema-de-referencia-de-coordenadas" class="section level2 hasAnchor" number="1.3">
<h2><span class="header-section-number">1.3</span> Sistema de Referencia de Coordenadas<a href="gráficas-geoespaciales.html#sistema-de-referencia-de-coordenadas" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Los datos espaciales pueden ser medidos y ubicados de muchas maneras. Las dos más populares son:</p>
<ul>
<li><p><strong>Unidades angulares</strong> en las que la latitud y longitud se dan en grados, minutos y segundos, o en grados con fracciones, por ejemplo, 56° 23’ 4’’ o 56.3844°. En áreas especializadas como Ingeniería Civil y análisis matemático, suelen utilizarse radianes en vez de grados para representar ángulos.</p></li>
<li><p><strong>Unidades lineales</strong> se utilizan para medir distancias al proyectar el espacio tridimensional en una malla plana (en un mapa). La unidad más común es el metro, por ejemplo, Norte 25 metros, Este 32 metros, aunque por supuesto, en los países que utilizan el sistema métrico inglés, suelen emplearse las yardas y pies. Dos de los sistemas de coordenadas más populares que utilizan unidades lineales son:</p>
<ul>
<li><p>UTM (<em>Universal Transverse Mercator</em>). Utiliza una variante de la proyección Mercator (que se verá más adelante) y divide el mundo en zonas longitudinales de 6 grados de ancho. Un punto en el plano se indica en metros, a partir del orgien que es la intersección entre el Ecuador y el Meridiano de Greenwich.</p></li>
<li><p>BNG (<em>British National Grid</em>). También utiliza una variante de la proyección Mercator. La tierra se divide en una cuadrícula de 100km por 100km y dentro de esta cuadrícula la coordenadas se expresan en términos de desplazamiento (en metros) hacia el Este y hacia el Norte. El origen de la malla se establece al suoreste de las Isla Sorling, para hacer que todas las coordenadas dentro del Reino Unido sean positivas.</p></li>
</ul></li>
</ul>
<p>Todos los Sistemas de Referenca de Coordenadas (CRS, <em>Coordinate Reference System</em>) están basados en un <strong>Datum</strong>. Se trata de un modelo de la forma de la superficie de la tierra (un elipsoide) y el origen donde la elipsoide se alinea con la superficie terrestre.
DEBE definirse con precisión para que proyecciones futuras (curvas o planas) operen correctamente.</p>
<p>En resumen, el CRS defien cómo se interpretan las coordenadas en un mapa. Incluye información sobre el datum, el tipo de proyección utilizada y la unidad de medida de las coordenadas. Existen muchos CRS; probablemente el de cobertura global más común es WGS84, utilizado por el Sistema de Posicionamiento Global (GPS) operado por los Estados Unidos.</p>
<p>Algo muy importante que se debe tener en cuenta al combinar bases de datos georreferenciadas, es asegurar que utilizan el mismo CRS. Afortunadamente es fácil encontrar librerías y herramientas que permiten transformar un CRS en otro.</p>
</div>
<div id="representación-de-datos-geoespaciales" class="section level2 hasAnchor" number="1.4">
<h2><span class="header-section-number">1.4</span> Representación de datos geoespaciales<a href="gráficas-geoespaciales.html#representación-de-datos-geoespaciales" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>La representación de datos geoespaciales puede hacerse de dos maneras: con datos de trama (<em>raster data</em>) o con datos de vectores (<em>vector data</em>).</p>
<p>Los formatos <strong>raster</strong> provienen del uso de imágenes digitales y modelos de elevación en los años 60 y 70 del siglo pasado. Los datos se representan como una cuadrícula de celdas del mismo tamaño. Cada celda (o píxel) tiene un valor que representa una característica geográfica, como la elevación, la temperatura, la composición del suelo o algún otro dato de interés. El tamaño de las celdas en la malla determina la resolución de la imagen.</p>
<p>En la <strong>representación vectorial</strong>, los elementos básicos que se utilizan son polígonos, líneas y puntos. Los polígonos son formas cerradas, como las fronteras de un país o el contorno de un municipio. Las líneas se utilizan para representar elementos no cerrados, como ríos y carreteras. Los puntos se utilizan para denotar posiciones específicas, como ciudades o lugares emblemáticos. Cada elemento vectorial tiene una ubicación geográfica definida, así como atributos adicionales, como nombre, longitud, área o tipo.</p>
<p>La figura <a href="gráficas-geoespaciales.html#fig:rastervector">1.3</a> muestra la diferencia entre imágenes de tramas y de vectores.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:rastervector"></span>
<img src="figuras/rastervector.JPG" alt="*Representación *raster* y *vector*. Fuente: [@Robinson]*" width="80%" />
<p class="caption">
Figura 1.3: <em>Representación </em>raster* y <em>vector</em>. Fuente: <span class="citation">(<a href="#ref-Robinson">Robinson, n.d.</a>)</span>*
</p>
</div>
</div>
<div id="formatos-de-almacenamiento" class="section level2 hasAnchor" number="1.5">
<h2><span class="header-section-number">1.5</span> Formatos de almacenamiento<a href="gráficas-geoespaciales.html#formatos-de-almacenamiento" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Por sus características, los datos raster se guardan en archivos utilizados para almacenar imágenes, que también permitan añadir información adicional, como el CRS utilizado. Los formatos más populares son:</p>
<ol style="list-style-type: lower-alpha">
<li><strong>TIFF</strong> (<em>Tagged Image File Format</em>). Es un formato propietario de Adobe, pero de uso libre, diseñado para almacenar imágenes de alta resolución. Los archivos tiff admiten múltiples bandas, por ejemplo, para almacenar imágenes multiespectrales o con distintas tonalidades.</li>
</ol>
<p>La extensión que soporta metadatos geoespaciales (como el CRS) es GeoTIFF, un formato abierto soportado por una gran cantidad de herramientas, por lo que se ha vuelto un estándar de facto.</p>
<ol start="2" style="list-style-type: lower-alpha">
<li><strong>JPEG2000</strong>. Es una extensión del muy popular formato JPEG. Al igual que GeoTIFF, permite incluir matadatos geoespaciales dentro del mismo archivo.</li>
</ol>
<p>Para datos vector, existen muchos formatos de archivo. Algunos de los más populares se presentan a continuación. Para una lista más completa, puede consultar <a href="https://mappinggis.com/2013/11/los-formatos-gis-vectoriales-mas-populares/">https://mappinggis.com/2013/11/los-formatos-gis-vectoriales-mas-populares/</a>.</p>
<ol style="list-style-type: lower-alpha">
<li><p><strong>Shapefile (.shp)</strong>. Es un formato desarrollado en los años 90 por ESRI, la empresa que comercializa ArcGIS, el software de GIS más popular. Se ha vuelto un estándar abierto para datos vectoriales. En realidad, una cartografía está formada por varios archivos asociados, que almacenan la geometría y los atributos de los datos:</p>
<ul>
<li>.shp - Obligatorio. Contiene la geometría de los elementos que conforman la imagen (puntos, líneas, polígonos)</li>
<li>.shx - Obligatorio. Shape Index Format, es un índice del archivo shp para acceso rápido a las geometrías. Esto acelera la renderización de los datos en aplicaciones GIS</li>
<li>.dbf - Obligatorio. Almacena los atributos de las entidades en formato de tabla. Estos atributos pueden ser nombres, clasificaciones o cualquier información descriptiva asociada a la geometría. Este formato es compatible con dBase.</li>
<li>.prj - Aunque es un archivo opcional, es muy común que esté presente pues ahí se defiene el CRS y la proyección utilizada.</li>
<li>Existen otros archivos opcionales como .sbn y sbx para mejorar el desempeño en operaciones espaciales; .xml para almacenar metadatos del archivo y .cpg que indica la codificación de caracteres del archivo .dbf.</li>
</ul></li>
</ol>
<p>Además de la complejidad (y confusión) al manejar varios archivos, el formato shp no soporta geometrías complejas y poco a poco está siendo desplazado por otros formatos.</p>
<ol start="2" style="list-style-type: lower-alpha">
<li><strong>GeoJSON (.geojson)</strong>. Es un formato de archivo de texto basado en JSON, Almacena coordenadas de vértices de entidades geoespaciales. Es flexible y fácil de leer, pero puede ocupar mucho espacio en geometrías complejas.</li>
</ol>
<p>Al estar basado en JSON, es ideal para facilitar la interoperabilidad en aplicaciones Web y para el intercambio de datos geoespaciales.</p>
<p>En el sitio <a href="https://geojson.io">https://geojson.io</a> se pueden incrustar elementos vectoriales en un mapa y editarlos, observando su formato en tiempo real.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:geojson"></span>
<img src="figuras/geojson.jpg" alt="*Ejemplo de edición en geojson.io*" width="80%" />
<p class="caption">
Figura 1.4: <em>Ejemplo de edición en geojson.io</em>
</p>
</div>
<ol start="3" style="list-style-type: lower-alpha">
<li><p><strong>GeoPackage (.gpkg)</strong>. Es un formato binario basado en SQLite que puede contener tanto datos vectoriales como raster, así como tablas de metadatos. Es abierto, basado en estándares y compatible con múltiples plataformas.</p></li>
<li><p><strong>KML (.kml) y KMZ (.kmz)</strong> (<em>Keyhole Markup Language</em>). Fue desarrollado por Keyhole y adquirido por Google para Google Earth.Se trata de un formato XML que almacena datos vectoriales y puede incluir imágenes sobrepuestas, íconos y otros elementos en archivos .kmz.</p></li>
</ol>
</div>
<div id="visualización-de-datos-geoespaciales." class="section level2 hasAnchor" number="1.6">
<h2><span class="header-section-number">1.6</span> Visualización de datos geoespaciales.<a href="gráficas-geoespaciales.html#visualización-de-datos-geoespaciales." class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>La representación vectorial está adquiriendo una creciente popularidad en las visualizaciones geoespaciales y es la representación que utilizaremos en este curso. En estas visualizaciones, la representación de las unidades geográficas está hecha a base de polígonos que en conjunto conforman lo que se conoce como el <strong>mapa base</strong>.</p>
<p>Sobre el mapa base, la representación de los datos de interés puede hacerse por medio de los marcadores que ya conocemos: puntos, líneas, áreas y volumenes. Por ejemplo, es posible codificar una variable cuantitativa con puntos modificando su atributo de tamaño, como ocurre con las gráficas de burbuja. El centro del punto está asociado a las coordenadas de la unidad geográfica asociada a la variable cuantitativa en cuestión y sobre esa región se dibuja el punto.</p>
<p>Por supuesto, es importante tener precaución cuando los puntos de tamaño variable llegaran a traslaparse. Por ello, es común colorearlos con un cierto porcentaje de opacidad de manera que se puedan observar puntos que de otra forma quedarían ocultos. Por ejemplo, la figura <a href="gráficas-geoespaciales.html#fig:terrem">1.5</a> muestra algunos de los lugares en Japón en los que hubo un terremoto de magnitud mayor o igual a 6 entre 2014 y 2018.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:terrem"></span>
<img src="figuras/terrem.JPG" alt="*Algunos terremotos en Japón. Fuente: Elaboración propia con base en datos disponibles en Kaggle*" width="50%" />
<p class="caption">
Figura 1.5: <em>Algunos terremotos en Japón. Fuente: Elaboración propia con base en datos disponibles en Kaggle</em>
</p>
</div>
<p>En las visualizaciones geoespaciales no se pretende analizar información cuantitativa con gran precisión. Por ello es permisible utilizar puntos de tamaño variable para representarla. Sin embargo, es recomendable tratar de utilizar pocos tamaños, idealmente, no más de cuatro, pues el diámetro de los círculos tiene muy poca capacidad de discriminación, lo que reduce la efectividad de nuestras gráficas.</p>
<p>Los círculos son sólo un ejemplo del tipo de objeto que se puede proyectar sobre el mapa base para representar la información de interés. Se pueden utilizar otro tipo de símbolos, como mini gráficos y las líneas mostrados en la figura <a href="gráficas-geoespaciales.html#fig:simbolos">1.6</a>, y los mapas de coropletas.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:simbolos"></span>
<img src="figuras/simbolos.JPG" alt="*Símbolos en mapas geoespaciales. Fuente: [@Munzner2014]*" width="90%" />
<p class="caption">
Figura 1.6: <em>Símbolos en mapas geoespaciales. Fuente: <span class="citation">(<a href="#ref-Munzner2014">Munzner 2014</a>)</span></em>
</p>
</div>
<div id="mapas-de-coropletas" class="section level3 unnumbered hasAnchor">
<h3>Mapas de coropletas<a href="gráficas-geoespaciales.html#mapas-de-coropletas" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Los mapas de coropletas son una forma muy popular de visualización de datos geoespaciales en los que se codifica la información de interés (típicamente, una variable cuantitativa) mediante el canal visual de color aplicado a los polígonos que representan las unidades geográficas, como un estado, una ciudad o un barrio. Por ejemplo, la figura <a href="gráficas-geoespaciales.html#fig:nohab">1.7</a> presenta un mapa de coropletas que muestra el número de habitantes por Estado en México, de acuerdo al censo de población de 2010.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:nohab"></span>
<img src="figuras/nohab.JPG" alt="*Número de habitantes por Estado. Fuente: Elaboración propia con datos de INEGI,2010*" width="50%" />
<p class="caption">
Figura 1.7: <em>Número de habitantes por Estado. Fuente: Elaboración propia con datos de INEGI,2010</em>
</p>
</div>
<p>En principio, lo que se está mencionando para implementar mapas de coropletas parece contravenir varias de las recomendaciones hechas en este curso: <em>se están utilizando áreas (polígonos) y atributos de color para representar información, dos canales visuales evaluados muy bajo en la escala de efectividad</em>. Sin embargo, estos canales son apropiados cuando el objetivo no es hacer juicios precisos sino detectar patrones generales.</p>
<p>Por ejemplo, en el mapa de la figura <a href="gráficas-geoespaciales.html#fig:desempleo">1.8</a>, se muestra la tasa de desempleo por condado en Estados Unidos en 2022. Al presentar este tipo de información, el objetivo no es identificar el condado con la menor o la mayor tasa de desempleo sino detectar patrones y agrupamientos, como la franja de muy bajo desempleo que se observa en la zona central del país.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:desempleo"></span>
<img src="figuras/desempleo.JPG" alt="*Tasas de desempleo en Estados Unidos por condado, 2022. Fuente: Bureau of Labor Statistics. https://www.bis.gov/lau/maps/aacnrt.pdf*" width="50%" />
<p class="caption">
Figura 1.8: <em>Tasas de desempleo en Estados Unidos por condado, 2022. Fuente: Bureau of Labor Statistics. <a href="https://www.bis.gov/lau/maps/aacnrt.pdf" class="uri">https://www.bis.gov/lau/maps/aacnrt.pdf</a></em>
</p>
</div>
<p>Si bien los mapas de coropletas permiten hacer una rápida exploración visual de la información codificada, estos presentan algunas limitaciones; a continuación se presentan dos de las más importantes.</p>
<p>En primer lugar, está el hecho de que el tamaño de los polígonos en las regiones de interés (que corresponden a superficies terrestres) pueden variar enormemente. Esto hace que las áreas mayores sobresalgan naturalmente y las más pequeñas sean difíciles de identificar, aún si estas últimas tienen información de gran interés. El sesgo asociado al tamaño de las áreas puede afectar la interpretación apropiada de la información.</p>
<p>Por ejemplo, en la figura <a href="gráficas-geoespaciales.html#fig:tablvent">1.9</a>, que muestra datos hipotéticos de las ventas en América del Sur, las regiones de Bahía y Sao Paulo dominan y prácticamente no se ve la región de Ciudad Autónoma de Buenos Aires, que es la de mayor interés pues, en este ejemplo hipotético, es la que mayores pérdidas presenta.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:tablvent"></span>
<img src="figuras/tablvent.JPG" alt="*Tasas de desempleo en Estados Unidos por condado, 2022. Fuente: Elaboración propia a partir del tutorial de Tableau “Muestra – Supertienda”*" width="70%" />
<p class="caption">
Figura 1.9: <em>Tasas de desempleo en Estados Unidos por condado, 2022. Fuente: Elaboración propia a partir del tutorial de Tableau “Muestra – Supertienda”</em>
</p>
</div>
<p>En segundo lugar, la interpretación de la información también es muy sensible a la manera en que se subdivide o compartimenta la paleta de colores para las coropletas. A estas divisiones se les llama clases y en la unidad 2 de este curso se ha mencionado que, si se utilizan diferentes tonalidades, no se deben tener más de 10 o 12, mientras que, si se modifican otras propiedades del color como el brillo o la saturación, no se pueden identificar más de cinco o seis clases.</p>
<p>El asociar los datos a clases para que los patrones relevantes sean visibles, pero sin exagerarlos, es todo un reto y requiere con frecuencia de ajustes manuales, es decir, la manera en la que las herramientas de visualización determinan el número de clases y asignan los valores a ellas por omisión, suele ser inapropiada, sobre todo cuando los datos están muy sesgados. Por ejemplo, la figura <a href="gráficas-geoespaciales.html#fig:denspob1">1.10</a> muestra la densidad de la población en los Estados de México de acuerdo a los datos del censo poblacional de 2010.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:denspob1"></span>
<img src="figuras/denspob1.JPG" alt="*Densidad de población-Mala asignación de clases. Fuente: Elaboración propia con datos de INEGI, 2010*" width="60%" />
<p class="caption">
Figura 1.10: <em>Densidad de población-Mala asignación de clases. Fuente: Elaboración propia con datos de INEGI, 2010</em>
</p>
</div>
<p>La densidad de población en los datos analizados va de 10.8 a 6,160.5 habitantes por kilómetro cuadrado, pero no está distribuida uniformemente: la segunda mayor densidad reportada es de 760 habitantes por kilómetro cuadrado. Se han definido cinco clases y la asignación por omisión que emplea la herramienta utilizada (Leaflet para R), divide el rango de datos en intervalos iguales, en este caso, cinco intervalos con un rango de 1230 para cada uno. Entonces, todos los estados menos uno, caen en la primera clase (11 a 1230 <span class="math inline">\(\text{hab}/km^2\)</span>) y un solo estado (la Ciudad de México) cae en la última clase.</p>
<p>A esta forma de asignación de clases se le conoce como <strong>equal Interval bins</strong> o clases a intervalos continuos. Existen por lo menos otras tres maneras de definir las clases.</p>
<ul>
<li>En el método llamado <strong>data distribution bins</strong> o clases por distribución de datos, en vez de dividir los datos a intervalos iguales, se crean intervalos con el mismo número de observaciones para cada clase. En el ejemplo anterior, si la República Mexicana tiene 32 estados y se definen cinco clases, cada una tendrá entre 6 y 7 observaciones, generando la visualización que se muestra en la figura <a href="gráficas-geoespaciales.html#fig:denspob2">1.11</a>.</li>
</ul>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:denspob2"></span>
<img src="figuras/denspob2.JPG" alt="*Densidad de población-Asignación de clases por distribución de datos. Fuente: Elaboración propia con datos de INEGI, 2010*" width="60%" />
<p class="caption">
Figura 1.11: <em>Densidad de población-Asignación de clases por distribución de datos. Fuente: Elaboración propia con datos de INEGI, 2010</em>
</p>
</div>
<p>El método anterior muestra con mucha mayor claridad diferencias entre las unidades geográficas pero los cortes creados pueden ocultar información relevante, ya sea porque se hace un corte en elementos que se esperaría estuvieran en la misma clase por la cercanía de sus valores, o se agrupan elementos que claramente deberían estar separados. Eso es lo que ha ocurrido en el mapa anterior en el que ya no se puede distinguir la Ciudad de México (6,160.5 <span class="math inline">\(\text{hab}/km^2\)</span>) de Morelos (404 <span class="math inline">\(\text{hab}/km^2\)</span>) o hasta de Querétaro (202.5 <span class="math inline">\(\text{hab}/km^2\)</span>).</p>
<p>Para evitar los problemas anteriores, se puede utilizar el método llamado <strong>arbitrary bin</strong>, o de clases asignadas arbitrariamente. En este método, los cortes se eligen con base en algún criterio de interés para el diseñador. En la figura <a href="gráficas-geoespaciales.html#fig:denspob3">1.12</a>. se muestra una asignación que privilegia la distinción de la zona más densa en su propia clase, a expensas de perder detalle en algunas regiones con densidades poblacionales medias:</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:denspob3"></span>
<img src="figuras/denspob3.JPG" alt="*Densidad de población-Asignación de clases arbitraria. Fuente: Elaboración propia con datos de INEGI, 2010*" width="60%" />
<p class="caption">
Figura 1.12: <em>Densidad de población-Asignación de clases arbitraria. Fuente: Elaboración propia con datos de INEGI, 2010</em>
</p>
</div>
<p>Si bien este método dota de mucha libertad al diseñador, puede resultar delicado pues, como ha ocurrido en el mapa anterior, suele haber compromisos entre lo que se desea resaltar y la información que invariablemente se habrá de perder. El diseñador debe ser especialmente cauto para que su visualización ayude a mostrar la información relevante sin que el resultado sea confuso o engañoso.</p>
</div>
</div>
</div>
<h3>Referencias<a href="referencias.html#referencias" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div id="refs" class="references csl-bib-body hanging-indent" entry-spacing="0">
<div id="ref-Munzner2014" class="csl-entry">
Munzner, Tamara. 2014. <em>Visualization Analysis and Design</em>. CRC Press.
</div>
<div id="ref-Robinson" class="csl-entry">
Robinson, A. n.d. <em>Maps and the Geospatial Revolution</em>. Penn State University.
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="index.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="la-biblioteca-geopandas.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/USERNAME/REPO/edit/BRANCH/01-VizGeo.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
